(this["webpackJsonpbinder-hack"]=this["webpackJsonpbinder-hack"]||[]).push([[0],{123:function(e,t,a){e.exports=a.p+"static/media/Empty.d4b45420.jpg"},214:function(e,t,a){e.exports=a.p+"static/media/DorBenLulu.19e8bae3.jpg"},316:function(e,t,a){e.exports=a.p+"static/media/Efrat.372d057d.jpg"},317:function(e,t,a){e.exports=a.p+"static/media/Vicki.30f20c22.jpeg"},318:function(e,t,a){e.exports=a.p+"static/media/Haim.4e742aca.jpg"},319:function(e,t,a){e.exports=a.p+"static/media/Yoni.7955fac2.jpg"},320:function(e,t,a){e.exports=a.p+"static/media/Eyal.9d1324d5.jpg"},335:function(e,t,a){e.exports=a(609)},340:function(e,t,a){},342:function(e,t,a){},343:function(e,t,a){e.exports=a.p+"static/media/dummyMap.ce01d896.PNG"},574:function(e,t,a){},578:function(e,t,a){"use strict";a.r(t);var n=a(214),r=a.n(n),i=a(316),o=a.n(i),l=a(317),c=a.n(l),s=a(318),u=a.n(s),p=a(319),d=a.n(p),h=a(320),m=a.n(h),b=[{id:"1234",firstName:"Haim",lastName:"Ruso",age:29,status:"Single",desiredRelationship:"Serious Relationship",interestedIn:["Women"],gender:"Male",picture:u.a,isCheckedIn:!0,isDeleted:!1},{id:"5678",firstName:"Dor",lastName:"Ben Lulu",age:25,status:"Single",desiredRelationship:"Serious Relationship",interestedIn:["Women"],gender:"Male",picture:r.a,isCheckedIn:!0,isDeleted:!1},{id:"9101",firstName:"Vicki",lastName:"Menashe",age:28,status:"Single",desiredRelationship:"Serious Relationship",interestedIn:["Men"],gender:"Female",picture:c.a,isCheckedIn:!0,isDeleted:!1},{id:"1121",firstName:"Yoni",lastName:"Shalev",age:36,status:"Single",desiredRelationship:"Hookups",interestedIn:["Women"],gender:"Male",picture:d.a,isCheckedIn:!0,isDeleted:!1},{id:"3141",firstName:"Efrat",lastName:"Harel",age:25,status:"Single",desiredRelationship:"Serious Relationship",interestedIn:["Men"],gender:"Female",picture:o.a,isCheckedIn:!0,isDeleted:!1},{id:"5161",firstName:"Eyal",lastName:"Pundak",age:34,status:"Single",desiredRelationship:"Serious Relationship",interestedIn:["Women"],gender:"Male",picture:m.a,isCheckedIn:!0,isDeleted:!1}];t.default=b},606:function(e,t){},609:function(e,t,a){"use strict";a.r(t);var n,r,i,o=a(0),l=a.n(o),c=a(20),s=a.n(c),u=(a(340),a(47)),p=a.n(u),d=a(19),h=a(21),m=a(23),b=a(24),f=a(25),g=a(30),y=a(82),v=a(16),E=(a(342),a(31)),j=(a(343),a(46)),O=a.n(j),S=a(652),k=Object(v.b)("generalStore","user","usersStore","locationsStore","myProfile","socketStore")(n=Object(v.c)(n=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).useStyles=function(){return Object(S.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:"100vw",height:450},icon:{color:"rgba(255, 255, 255, 0.54)"}}}))},a.sendLocation=function(e){a.props.user.checkin(),a.props.socketStore.SelectedLocationCoordinates=e.locationCoordinates,a.props.socketStore.watchPosition(),a.props.socketStore.getUsersNearMe(e.name),a.props.generalStore.setHeaderLabel(e.name),a.props.history.push("/map/".concat(e.name))},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.generalStore.setHeaderLabel("Binder")}},{key:"render",value:function(){var e=this,t=this.props.socketStore.nearbyLocations,a=this.useStyles(),n={position:"absolute",background:"rgb(6, 6, 6)",display:"flex",justifyContent:"center",alignItems:"center",color:"white",width:"100%",opacity:"0.7",fontSize:"6vw",textAlign:"center",bottom:"0px",height:"6vh"};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:a.root,style:{position:"absolute",top:"51%",width:"100%",backgroundColor:"#ece9e95e"}},t.map((function(t,a){var r={position:"relative",overflow:"hidden",height:"25vh",width:"100vw",backgroundImage:"url(".concat(t?t.picture:null,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"};return l.a.createElement("div",{style:r,key:a,onClick:function(){return e.sendLocation(t)}},l.a.createElement("div",{style:n},t.name))}))))}}]),t}(o.Component))||n)||n,w=Object(y.f)(k),C=a(151),I={position:"absolute",width:"100%",height:"40%",top:"10vh"},N=Object(v.b)("user","usersStore","locationsStore","myProfile","socketStore")(r=Object(v.c)(r=function(e){function t(e){var a;Object(d.a)(this,t),(a=Object(m.a)(this,Object(b.a)(t).call(this,e))).getCheckIn=function(e){O.a.post("/",e).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))};var n=a.props.initialCenter,r=n.lat,i=n.lng;return a.state={currentLocation:{lat:r,lng:i}},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.google!==this.props.google&&this.loadMap(),t.currentLocation!==this.state.currentLocation&&this.recenterMap()}},{key:"recenterMap",value:function(){var e=this.map,t=this.state.currentLocation,a=this.props.google.maps;if(e){var n=new a.LatLng(t.lat,t.lng);e.panTo(n)}}},{key:"componentDidMount",value:function(){var e=this;this.props.centerAroundCurrentLocation&&navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var a=t.coords,n={lat:a.latitude,lng:a.longitude};e.getCheckIn(n),e.setState({currentLocation:{lat:a.latitude,lng:a.longitude}},(function(){this.props.socketStore.getLocationsNearby(this.state.currentLocation)}))})),this.loadMap()}},{key:"loadMap",value:function(){if(this.props&&this.props.google){var e=this.props.google.maps,t=this.refs.map,a=s.a.findDOMNode(t),n=this.props.zoom,r=this.state.currentLocation,i=r.lat,o=r.lng,l=new e.LatLng(i,o),c=Object.assign({},{center:l,zoom:n});this.map=new e.Map(a,c)}}},{key:"renderChildren",value:function(){var e=this,t=this.props.children;if(t)return l.a.Children.map(t,(function(t){if(t)return l.a.cloneElement(t,{map:e.map,google:e.props.google,mapCenter:e.state.currentLocation})}))}},{key:"render",value:function(){console.log(this.state);var e=Object.assign({},I);return l.a.createElement("div",null,l.a.createElement("div",{style:e,ref:"map"},"Loading map..."),this.renderChildren())}}]),t}(l.a.Component))||r)||r,L=N;N.defaultProps={zoom:14,initialCenter:{lat:32.0628435,lng:34.7735121},centerAroundCurrentLocation:!1,visible:!0};var x,P,T,M,z,D,U,A,R,B,F,_,W,H,G,Y,K,V=Object(v.b)("user","usersStore","locationsStore","myProfile","socketStore")(i=Object(v.c)(i=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(m.a)(this,Object(b.a)(t).call(this))).onMarkerClick=function(t,a,n){e.setState({selectedPlace:t,activeMarker:a,showingInfoWindow:!0})},e.onClose=function(t){e.state.showingInfoWindow&&e.setState({showingInfoWindow:!1,activeMarker:null})},e.state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{id:"map-container"},l.a.createElement(L,{centerAroundCurrentLocation:!0,google:this.props.google},l.a.createElement(C.Marker,{onClick:this.onMarkerClick,name:"current location",style:{width:"100%",height:"40%"}}),l.a.createElement(C.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},l.a.createElement("div",null,l.a.createElement("h4",null,this.state.selectedPlace.name)))))}}]),t}(o.Component))||i)||i,J=Object(C.GoogleApiWrapper)({apiKey:"AIzaSyDVj2e5Q-6pNzWHmypcns1iOlIua1Tise0"})(V),q=a(51),Q=a.n(q),Z=a(75),$=a.n(Z),X=a(35),ee=a.n(X),te=a(59),ae=a.n(te),ne=a(656),re=a(127),ie=Object(v.b)("generalStore","user","usersStore","locationsStore","myProfile","socketStore")(x=Object(v.c)(x=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(m.a)(this,Object(b.a)(t).call(this))).handleChange=function(t){return function(a){e.setState(Object(E.a)({},t,a.target.value))}},e.submit=function(t){var a,n;return p.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),a={address:e.state.email,password:e.state.password},r.next=4,p.a.awrap(O.a.post("/login",a));case 4:"login error"!==(n=r.sent).data?(e.props.socketStore.openSocket(n.data),e.props.user.logIn(),e.props.generalStore.displayMenu=!0):alert("Incorrect Email Address/Password");case 6:case"end":return r.stop()}}))},e.state={email:"",password:""},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{style:{marginLeft:"13vw",marginTop:"10vh"}},l.a.createElement(Q.a,null,l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{width:"72vw"}},l.a.createElement(re.a,{variant:"h4",gutterBottom:!0},"Login"),l.a.createElement(ee.a,{placeholder:"Enter Your Email",onChange:this.handleChange("email"),value:this.state.email,type:"email"}),l.a.createElement("br",null),l.a.createElement(ee.a,{placeholder:"Enter Your Password",onChange:this.handleChange("password"),value:this.state.password,type:"password",color:"red"}),l.a.createElement("br",null),l.a.createElement(ne.a,{label:"Submit",variant:"contained",color:"secondary",onClick:this.submit,style:{marginLeft:"23vw",marginTop:"3vh"}},"Submit")),l.a.createElement("div",{style:{marginTop:"5vh",marginLeft:"12vw"}},l.a.createElement(g.b,{to:"/register",className:"link"},l.a.createElement(ne.a,{variant:"contained",color:"secondary"},"Create Account"))))))}}]),t}(o.Component))||x)||x,oe=a(657),le=a(658),ce=a(612),se=a(93),ue=a.n(se),pe=(Object(v.b)("user","usersStore","locationsStore","myProfile","socketStore")(P=Object(v.c)(P=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).useStyles=function(){return Object(S.a)({icon:{color:"rgba(255, 255, 255, 0.54)"}})},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.useStyles(),t=this.props.user;console.log("logged in user is ",t,t.picture);return l.a.createElement(oe.a,null,l.a.createElement("img",{src:t.picture,alt:t.firstName}),l.a.createElement(le.a,{title:t.firstName,subtitle:l.a.createElement("span",null,"by: ",t.firstName),actionIcon:l.a.createElement(ce.a,{"aria-label":"info about ".concat(t.firstName),className:e.icon},l.a.createElement(ue.a,null))}))}}]),t}(o.Component))||P),a(659)),de=a(123),he=a.n(de),me=Object(v.b)("generalStore","user","usersStore","locationsStore","myProfile","socketStore")(T=Object(v.c)(T=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).useStyles=function(){return Object(S.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:500,height:450},icon:{color:"rgba(255, 255, 255, 0.54)"}}}))},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.socketStore.nearbyUsers,a=(this.props.match.params.location,this.useStyles());return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:a.root,style:{height:"80vh",width:"90vw",marginTop:"1vh",marginLeft:"5vw"}},l.a.createElement(pe.a,{cellHeight:180,className:a.gridList},t.map((function(t,n){return l.a.createElement(oe.a,{key:t.firstName,onClick:function(){return e.props.history.push("/user/".concat(t._id))}},console.log("user url is ",t.picture),null!==t.picture?l.a.createElement("img",{src:t.picture,alt:t.firstName}):l.a.createElement("img",{src:he.a,alt:t.firstName}),l.a.createElement(le.a,{style:{height:"auto"},title:"".concat(t.firstName,", ").concat(t.age),actionIcon:l.a.createElement(ce.a,{"aria-label":"info about ".concat(t.firstName),className:a.icon},l.a.createElement(ue.a,null))}))})))))}}]),t}(o.Component))||T)||T,be=Object(y.f)(me),fe=a(40),ge=a.n(fe),ye=Object(v.b)("user","usersStore","locationsStore","myProfile","socketStore")(M=Object(v.c)(M=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){var t=a.props.match.params.id;console.log("userId",t);var n={label:e,destinationUser:a.props.socketStore.getUserById(t),sourceUser:a.props.socketStore.loggedInUser};a.props.socketStore.sendReaction(n),a.setState({blockTimer:!0})},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.match.params.id,a=(this.props.usersStore.getUserById(t),!1);return this.props.socketStore.nearbyUsers.forEach((function(e){e._id===t&e.blockTimer&&(a=e.blockTimer)})),l.a.createElement("div",{style:{marginLeft:"20vw",marginTop:"5vh"}},a?l.a.createElement("div",null,l.a.createElement(ge.a,{style:{height:32,width:32,opacity:"0.4"}},":heart:"),l.a.createElement(ge.a,{style:{height:32,width:32,opacity:"0.4"}},":fire:"),l.a.createElement(ge.a,{style:{height:32,width:32,opacity:"0.4"}},":heart_eyes:"),l.a.createElement(ge.a,{style:{height:32,width:32,opacity:"0.4"}},":blush:"),l.a.createElement(ge.a,{style:{height:32,width:32,opacity:"0.4"}},":(")):l.a.createElement("div",null,l.a.createElement(ge.a,{style:{height:32,width:32},onClick:function(){return e.handleClick(":heart:")}},":heart:"),l.a.createElement(ge.a,{style:{height:32,width:32},onClick:function(){return e.handleClick(":fire:")}},":fire:"),l.a.createElement(ge.a,{style:{height:32,width:32},onClick:function(){return e.handleClick(":heart_eyes:")}},":heart_eyes:"),l.a.createElement(ge.a,{style:{height:32,width:32},onClick:function(){return e.handleClick(":blush:")}},":blush:"),l.a.createElement(ge.a,{style:{height:32,width:32},onClick:function(){return e.handleClick(":(")}},":(")))}}]),t}(o.Component))||M)||M,ve=(a(214),a(148)),Ee=a.n(ve),je=a(312),Oe=a.n(je),Se=Object(v.b)("user","usersStore","locationsStore","myProfile","socketStore")(z=Object(v.c)(z=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(m.a)(this,Object(b.a)(t).call(this))).state={redirect:!1},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e,t=this;console.log(this.props.match),console.log(this.props.socketStore.nearbyUsers);var a=this.props.match.params.id;console.log("user id ",a);var n=this.props.socketStore.getUserById(a),r=this.props.socketStore.chosenLocation;console.log("user to display is ",n);var i={position:"relative",overflow:"hidden",height:"40vh",width:"100vw",backgroundImage:"url(".concat(n?n.picture:null,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},o=(e={position:"absolute",top:"0px",background:"#ffffff",color:"white",width:"auto",opacity:"0.7",fontSize:"4vw",textAlign:"left",borderRadius:"50px"},Object(E.a)(e,"top","2vh"),Object(E.a)(e,"left","2vw"),e),c={verticalAlign:"-10%",color:"#040404d9",height:"3vh"},s={color:"#6d6b6b"};return l.a.createElement("div",null,l.a.createElement("div",{style:i},l.a.createElement("div",{style:o,onClick:function(){return t.props.history.goBack()}},l.a.createElement(Oe.a,{style:{color:"black"}}))),n?l.a.createElement("div",{style:{textIndent:"5vw",marginTop:"3vh",height:"3vh"}},l.a.createElement(re.a,{variant:"h6",gutterBottom:!0},n.firstName,", ",n.age),l.a.createElement(re.a,{variant:"subtitle2",style:s,gutterBottom:!0},l.a.createElement(Ee.a,{style:c})," ",n.status),l.a.createElement(re.a,{variant:"subtitle2",style:s,gutterBottom:!0},l.a.createElement(ue.a,{style:c})," Looking for: ",n.desiredRelationship),l.a.createElement(ye,{match:this.props.match})):l.a.createElement(y.a,{to:"/map/".concat(r)}))}}]),t}(o.Component))||z)||z,ke=Object(y.f)(Se),we=a(36),Ce=a(677),Ie=a(660),Ne=a(63),Le=Object(v.b)("generalStore","user","usersStore","locationsStore","myProfile","socketStore")(D=Object(v.c)(D=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).continue=function(e){var t;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),t={address:a.props.values.email},n.next=4,p.a.awrap(O.a.post("/checkEmail",t));case 4:"exists"==n.sent.data?alert("Email already exists. Did you forget your password?"):a.props.nextStep();case 6:case"end":return n.stop()}}))},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.generalStore.setHeaderLabel("Enter User Details")}},{key:"render",value:function(){var e=this.props,t=e.values,a=e.handleChange;return l.a.createElement("div",{style:{marginLeft:"14vw"}},l.a.createElement(Q.a,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(ee.a,{floatingLabelText:"First Name",onChange:a("firstName"),value:t.firstName,type:"text"}),l.a.createElement("br",null),l.a.createElement(ee.a,{floatingLabelText:"Last Name",onChange:a("lastName"),value:t.lastName,type:"text"}),l.a.createElement("br",null),l.a.createElement(ee.a,{floatingLabelText:"Age",onChange:a("age"),value:t.age,type:"number",min:"18",max:"100"}),l.a.createElement("br",null),l.a.createElement(ee.a,{floatingLabelText:"Email",onChange:a("email"),value:t.email,type:"email",required:!0}),l.a.createElement("br",null),l.a.createElement(ee.a,{floatingLabelText:"password",onChange:a("password"),value:t.password,type:"password",required:!0}),l.a.createElement("br",null),l.a.createElement(Ie.a,{id:"relationship-status"},"Relationship Status"),l.a.createElement(Ce.a,{labelId:"relationship-status",hintText:"Enter Your Status",floatingLabelText:"Status",onChange:a("status"),defaultValue:t.status},l.a.createElement(Ne.a,{value:"Single"},"Single"),l.a.createElement(Ne.a,{value:"In an open relationship"},"In an open relationship"),l.a.createElement(Ne.a,{value:"It's Complicated"},"It's Complicated")),l.a.createElement("br",null),l.a.createElement(ne.a,{variant:"contained",color:"secondary",onClick:this.continue},"Continue"))))}}]),t}(o.Component))||D)||D,xe=a(661),Pe=a(679),Te=a(664),Me=a(665),ze=a(663),De=a(613),Ue=a(124),Ae=a.n(Ue),Re=(a(611),{apiKey:"AIzaSyD15Hl3UZ8yuiNs3KljCJ0ePQgs6Wf-0ps",authDomain:"binder2-319a5.firebaseapp.com",databaseURL:"https://binder2-319a5.firebaseio.com",projectId:"binder2-319a5",storageBucket:"binder2-319a5.appspot.com",messagingSenderId:"890819851860",appId:"1:890819851860:web:3d880fb18a5d4a8749dfc1",measurementId:"G-F6E8HMJB7G",cloudServerKey:Object({NODE_ENV:"production",PUBLIC_URL:"",API_KEY:"AIzaSyDVj2e5Q-6pNzWHmypcns1iOlIua1Tise0",FIREBASE_API_KEY:"AIzaSyD15Hl3UZ8yuiNs3KljCJ0ePQgs6Wf-0ps",FIREBASE_AUTH_DOMAIN:"binder2-319a5.firebaseapp.com",FIREBASE_DATABASE_URL:"https://binder2-319a5.firebaseio.com",FIREBASE_PROJECT_ID:"binder2-319a5",FIREBASE_STORAGE_BUCKET:"binder2-319a5.appspot.com",FIREBASE_MESSAGE_SENDER_ID:"890819851860",FIREBASE_APP_ID:"1:890819851860:web:3d880fb18a5d4a8749dfc1",FIREBASE_MEASUREMENT_ID:"G-F6E8HMJB7G"}).FIREBASE_CLOUD_SERVER_KEY}),Be=Ae.a.initializeApp(Re),Fe=Ae.a.storage(),_e=Object(v.b)("user","usersStore","locationsStore","myProfile","socketStore")(U=Object(v.c)(U=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={Men:!1,Women:!1,url:""},a.continue=function(e){e.preventDefault(),a.props.nextStep()},a.back=function(e){e.preventDefault(),a.props.previousStep()},a.uploadImage=function(e){a.setState({selectedFile:e.target.files[0]})},a.uploadFile=function(){if(a.state.selectedFile){var e=a.state.selectedFile;Fe.ref("images/".concat(e.name)).put(e).on("state_changed",(function(e){console.log(e)}),(function(e){console.log(e)}),(function(){Fe.ref("images").child(e.name).getDownloadURL().then((function(e){a.setState({url:e},(function(){this.props.handleChange("picture")(this.state.url)}))}))}))}},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.values,a=e.handleChange;e.upload;return l.a.createElement("div",{style:{marginLeft:"18vw",marginTop:"10vh",width:"60vw"}},l.a.createElement(Q.a,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(Ie.a,{id:"desired-relationship-label"},"What Are You Looking For?"),l.a.createElement(Ce.a,{labelId:"desired-relationship-label",label:"What Are You Looking For?",hintText:"Enter Your Desdired Relationship",floatingLabelText:"desiredRelationship",onChange:a("desiredRelationship"),value:t.desiredRelationship,autoWidth:!0},l.a.createElement(Ne.a,{value:"True Love"},"True Love"),l.a.createElement(Ne.a,{value:"Hookups"},"Hookups")),l.a.createElement("br",null),l.a.createElement(ze.a,{component:"fieldset"},l.a.createElement(De.a,{component:"legend"},"Who Are You Looking For?"),l.a.createElement(Te.a,null,l.a.createElement(Me.a,{control:l.a.createElement(Pe.a,{onChange:a("interestedIn"),value:"Men"}),label:"Men"}),l.a.createElement(Me.a,{control:l.a.createElement(Pe.a,{onChange:a("interestedIn"),value:"Women"}),label:"Women"}))),l.a.createElement("br",null),l.a.createElement(Ie.a,{id:"gender-label"},"Gender"),l.a.createElement(Ce.a,{labelId:"gender-label",label:"gender",hintText:"How Do You Define Yourself?",floatingLabelText:"Gender",onChange:a("gender"),value:t.gender,autoWidth:!0},l.a.createElement(Ne.a,{value:"Female"},"Female"),l.a.createElement(Ne.a,{value:"Male"},"Male"),l.a.createElement(Ne.a,{value:"Gender Fluid"},"Gender Fluid")),l.a.createElement("br",null),l.a.createElement(Ie.a,{id:"picture-label"},"Picture"),l.a.createElement(Te.a,null,l.a.createElement(xe.a,{type:"file",floatingLabelText:"Picture",onChange:this.uploadImage,defaultValue:t.picture}),l.a.createElement(ae.a,{label:"Upload",primary:!1,style:We.button,onClick:this.uploadFile})),l.a.createElement("br",null),l.a.createElement(ne.a,{variant:"contained",color:"primary",style:We.button,onClick:this.continue},"Continue"),l.a.createElement(ne.a,{variant:"contained",color:"secondary",style:We.button,onClick:this.back},"Back"))))}}]),t}(o.Component))||U)||U,We={buttons:{margin:15}},He=_e,Ge=a(49),Ye=Object(v.b)("generalStore","user","usersStore","locationsStore","myProfile","socketStore")(A=Object(v.c)(A=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).continue=function(e){return p.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),a.props.nextStep(),t.next=4,p.a.awrap(O.a.post("/signIn",a.props.values));case 4:case"end":return t.stop()}}))},a.back=function(e){e.preventDefault(),a.props.previousStep()},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.generalStore.setHeaderLabel("Confirm Information")}},{key:"render",value:function(){var e=this.props.values,t=e.firstName,a=e.lastName,n=e.age,r=e.email,i=e.status,o=e.desiredRelationship,c=e.interstedIn,s=e.gender,u=e.picture;return l.a.createElement(Q.a,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(Ge.List,null,l.a.createElement(Ge.ListItem,{primaryText:"First Name",secondaryText:t}),l.a.createElement(Ge.ListItem,{primaryText:"Last Name",secondaryText:a}),l.a.createElement(Ge.ListItem,{primaryText:"Age",secondaryText:n}),l.a.createElement(Ge.ListItem,{primaryText:"Email",secondaryText:r}),l.a.createElement(Ge.ListItem,{primaryText:"Status",secondaryText:i}),l.a.createElement(Ge.ListItem,{primaryText:"Desired Relationship",secondaryText:o}),l.a.createElement(Ge.ListItem,{primaryText:"Intersted In",secondaryText:c}),l.a.createElement(Ge.ListItem,{primaryText:"Gender",secondaryText:s}),l.a.createElement(Ge.ListItem,{primaryText:"Picture",secondaryText:u})),l.a.createElement("br",null),l.a.createElement(ne.a,{variant:"contained",color:"primary",style:Ke.button,onClick:this.continue},"Confirm&Continue"),l.a.createElement(ne.a,{variant:"contained",color:"secondary",style:Ke.button,onClick:this.back},"Back")))}}]),t}(o.Component))||A)||A,Ke={buttons:{margin:15}},Ve=Ye,Je=Object(v.b)("user","usersStore","locationsStore","myProfile","socketStore")(R=Object(v.c)(R=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).continue=function(e){e.preventDefault(),a.props.nextStep()},a.back=function(e){e.preventDefault(),a.props.previousStep()},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return l.a.createElement(Q.a,null,l.a.createElement(l.a.Fragment,null,l.a.createElement($.a,{title:"Success"}),l.a.createElement("h1",null,"Thank You For Your Submission"),l.a.createElement(g.b,{to:"/",className:"link"},l.a.createElement(ae.a,{label:"Login",primary:!0,style:qe.button}))))}}]),t}(o.Component))||R)||R,qe={buttons:{margin:15}},Qe=Je,Ze=Object(v.b)("user","usersStore","locationsStore","myProfile","socketStore")(B=Object(v.c)(B=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(m.a)(this,Object(b.a)(t).call(this))).nextStep=function(){var t=e.state.step;e.setState({step:t+1})},e.previousStep=function(){var t=e.state.step;e.setState({step:t-1})},e.handleChange=function(t){return function(a){if("age"===t&&a.target.value>100&&(alert("Age must be between 18 to 100!"),a.target.value=18),"interestedIn"===t&&!0===a.target.checked){var n=a.target.value,r=Object(we.a)(e.state.interestedIn);return r.push(n),void e.setState({interestedIn:r})}if("interestedIn"===t&&!1===a.target.checked){var i=Object(we.a)(e.state.interestedIn),o=i.indexOf(a.target.value);return i.splice(o,1),void e.setState({interestedIn:i})}"picture"!==t?e.setState(Object(E.a)({},t,a.target.value)):e.setState({picture:a})}},e.state={step:1,firstName:"",lastName:"",age:Number,email:"",status:"",desiredRelationship:"",interestedIn:[],gender:"",picture:null},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.state.step,t=this.state,a={firstName:t.firstName,lastName:t.lastName,age:t.age,email:t.email,password:t.password,status:t.status,desiredRelationship:t.desiredRelationship,interestedIn:t.interestedIn,gender:t.gender,picture:t.picture};switch(e){case 1:return l.a.createElement(Le,{nextStep:this.nextStep,handleChange:this.handleChange,values:a});case 2:return l.a.createElement(He,{nextStep:this.nextStep,previousStep:this.previousStep,handleChange:this.handleChange,values:a});case 3:return l.a.createElement(Ve,{nextStep:this.nextStep,previousStep:this.previousStep,values:a});case 4:return l.a.createElement(Qe,null)}}}]),t}(o.Component))||B)||B,$e=Object(v.b)("user","usersStore","locationsStore","myProfile","socketStore")(F=Object(v.c)(F=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).useStyles=function(){return Object(S.a)((function(e){return{root:{height:"100vh"},container:{display:"flex"},paper:{margin:e.spacing(1)},svg:{width:100,height:100},polygon:{fill:e.palette.common.white,stroke:e.palette.divider,strokeWidth:1}}}))},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){this.useStyles();return l.a.createElement("div",null,l.a.createElement(ge.a,{style:{height:80,width:80,marginLeft:"40%",marginTop:"70%"}},this.props.socketStore.emoji),l.a.createElement("div",{style:{textAlign:"center"}},this.props.socketStore.reactingUser.firstName," has reacted to you!"))}}]),t}(o.Component))||F)||F,Xe=a(671),et=a(672),tt=a(314),at=a.n(tt),nt=a(680),rt=a(662),it=a(670),ot=a(666),lt=a(667),ct=a(668),st=a(313),ut=a.n(st),pt=a(217),dt=a.n(pt),ht=a(669),mt=a(218),bt=a.n(mt),ft=Object(v.b)("generalStore","user","usersStore","locationsStore","myProfile","socketStore")(_=Object(v.c)(_=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(m.a)(this,Object(b.a)(t).call(this))).toggleDrawer=function(t,a){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&e.setState({left:a})}},e.uploadImage=function(e){},e.sideList=function(t){var a=e.useStyles(),n=e.props.socketStore.loggedInUser;return l.a.createElement("div",{className:a.list,role:"presentation",onClick:e.toggleDrawer(t,!1),onKeyDown:e.toggleDrawer(t,!1)},l.a.createElement(rt.a,null,l.a.createElement(ot.a,{button:!0,onClick:function(){e.toggleDrawer(t,!1)}},l.a.createElement(lt.a,null,l.a.createElement(ut.a,null)),l.a.createElement(ct.a,{primary:"Back"})),l.a.createElement(ot.a,null,l.a.createElement("label",{for:"image"},l.a.createElement("input",{type:"file",name:"image",id:"image",style:{display:"none"},onChange:e.uploadImage}),l.a.createElement("img",{src:n?n.picture:he.a,style:{width:"30vw",height:"30vw",paddingLeft:"5vw"}}))),l.a.createElement(ot.a,{button:!0},l.a.createElement(lt.a,null,l.a.createElement(Ee.a,null)),l.a.createElement(g.b,{to:"/editProfile"},l.a.createElement(ct.a,{primary:"Edit Profile"}))),l.a.createElement(ot.a,{button:!0},l.a.createElement(lt.a,null,l.a.createElement(dt.a,null)),l.a.createElement(g.b,{to:"/settings"},l.a.createElement(ct.a,{primary:"Settings"}))),l.a.createElement(ot.a,{button:!0,onClick:e.initializeCounter},l.a.createElement(lt.a,null,e.props.socketStore.notificationsAmt>0?l.a.createElement(ht.a,{badgeContent:e.props.socketStore.notificationsAmt,color:"primary"}," ",l.a.createElement(bt.a,null)):l.a.createElement(ht.a,{badgeContent:0,color:"primary"}," ",l.a.createElement(bt.a,null))),l.a.createElement(g.b,{to:"/notifications"}," ",l.a.createElement(ct.a,{primary:"Notifications"})," ")),l.a.createElement(ot.a,{button:!0},l.a.createElement(lt.a,null,l.a.createElement(dt.a,null)),l.a.createElement(g.b,{to:"/"},l.a.createElement(ct.a,{primary:"Back"})))),l.a.createElement(it.a,null))},e.useStyles=function(){return Object(S.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},list:{width:250},fullList:{width:"auto"}}}))},e.state={left:!1},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.useStyles();return l.a.createElement("div",{className:e.root},l.a.createElement(Xe.a,{position:"static",style:{backgroundColor:"#e91e63"}},l.a.createElement(et.a,null,l.a.createElement(ce.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},this.props.generalStore.displayMenu?l.a.createElement(at.a,{onClick:this.toggleDrawer("left",!0)}):null,l.a.createElement(nt.a,{open:this.state.left,onClose:this.toggleDrawer("left",!1)},console.log("state.left is ",this.state.left),this.sideList("left"))),l.a.createElement(re.a,{variant:"h6",className:e.title},this.props.generalStore.headerLabel))))}}]),t}(o.Component))||_)||_,gt=a(674),yt=a(675),vt=a(315),Et=a.n(vt),jt=Object(v.b)("user","usersStore","locationsStore","myProfile","socketStore")(W=Object(v.c)(W=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(m.a)(this,Object(b.a)(t).call(this))).useStyles=function(){return Object(S.a)({root:{width:500}})},e.checkout=function(){e.props.user.checkout(),e.props.socketStore.checkoutFromLocation(),e.props.history.push("/")},e.state={value:0},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.useStyles();return l.a.createElement(gt.a,{value:this.state.value,onChange:function(t,a){e.setState({value:a})},showLabels:!0,className:t.root},l.a.createElement(yt.a,{onClick:this.checkout,label:"Leave",style:{color:"black"},icon:l.a.createElement(Et.a,null)}))}}]),t}(o.Component))||W)||W,Ot=Object(y.f)(jt),St=a(15),kt=a(676),wt=a(614),Ct=a(673),It=(a(574),Object(v.b)("user","usersStore","locationsStore","myProfile","socketStore")(H=Object(v.c)(H=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(m.a)(this,Object(b.a)(t).call(this,e))).handleClose=function(e){var t=e.target.name;console.log("in handle close: name is ".concat(t)),a.setState(Object(E.a)({},t,!1))},a.handleOpen=function(e){console.log("in handle open: name is ".concat(e," "));var t=a.state[e];a.setState(Object(E.a)({},e,!t))},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;console.log("In handleInputChange: name is ".concat(n,", and value is ").concat(r)),a.setState(Object(E.a)({},n,r),(function(){}))},a.useStyles=function(){return Object(S.a)((function(e){return{paper:{position:"absolute",width:"100%",height:"100vh",backgroundColor:"white",border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}))},a.handleMailSubmit=function(e){e.preventDefault(),console.log("email changeed"),a.setState({openEmailSlide:!1,openPasswordSlide:!1})},a.StyleInput=function(){return Object(St.a)(a.state.styles)(xe.a)},a.openUpdateMailSlide=function(){a.StyleInput();return l.a.createElement(Ct.a,{direction:"left",in:a.state.openEmailSlide,mountOnEnter:!0,unmountOnExit:!0},l.a.createElement(wt.a,{elevation:4},l.a.createElement("form",{onSubmit:a.handleMailSubmit,style:{verticalAlign:"middle"}},l.a.createElement(xe.a,{placeholder:"New Email",value:a.state.newEmail,name:"newEmail",inputProps:{"aria-label":"description"},underline:{after:{borderBottom:"2px solid  red"}},onChange:a.handleInputChange}),l.a.createElement(ne.a,{type:"submit",variant:"contained",style:{height:"5vh",fontSize:"3vw"}},"Update Email")),l.a.createElement("div",{style:{color:"red"}},a.state.errorMessage)))},a.handlePasswordSubmit=function(e){e.preventDefault(),a.state.password===a.state.verifiedPassword?(console.log("Updating Password!"),a.setState({openPasswordSlide:!1})):a.setState({passwordErrorMessage:"Passwords must match!"})},a.openUpdatePasswordSlide=function(){a.StyleInput();return l.a.createElement(Ct.a,{direction:"left",in:a.state.openPasswordSlide,mountOnEnter:!0,unmountOnExit:!0},l.a.createElement(wt.a,{elevation:4},l.a.createElement("form",{onSubmit:a.handlePasswordSubmit,style:{verticalAlign:"middle"}},l.a.createElement(xe.a,{placeholder:"Type in your new password",type:"password",value:a.state.password,name:"password",inputProps:{"aria-label":"description"},underline:{after:{borderBottom:"2px solid  red"}},onChange:a.handleInputChange}),l.a.createElement(xe.a,{placeholder:"Varify password",type:"password",value:a.state.verifiedPassword,name:"verifiedPassword",inputProps:{"aria-label":"description"},underline:{after:{borderBottom:"2px solid  red"}},onChange:a.handleInputChange}),l.a.createElement(ne.a,{type:"submit",variant:"contained",style:{height:"5vh",fontSize:"3vw"}},"Default"),l.a.createElement("div",{style:{color:"red"}},a.state.passwordErrorMessage))))},a.state={open:!1,newEmail:"",password:"",verifiedPassword:"",openPasswordSlide:!1,openEmailSlide:!1,openNotificationSettings:!1,checked:!1,passwordErrorMessage:"",errorMessage:"",styles:{underline:{"&:before":{borderBottom:"1px solid #e91e63"},"&:hover:not($disabled):not($focused):not($error):before":{borderBottom:"2px solid #e91e63"},"&:after":{borderBottom:"1px solid #c1114d"}},disabled:{},focused:{},error:{}}},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.useStyles();return l.a.createElement("div",null,l.a.createElement(rt.a,{component:"nav",className:t.root,"aria-label":"mailbox folders",style:{width:"100%",backgroundColor:"#ece9e95e"}},l.a.createElement(ot.a,{button:!0,value:"Update Email",name:"openEmailSlide",onClick:function(){return e.handleOpen("openEmailSlide")},style:{borderBottom:"1px solid #0000002e"}},l.a.createElement(ct.a,{primary:"Update Email"})),this.state.openEmailSlide?this.openUpdateMailSlide():null,l.a.createElement(ot.a,{button:!0,value:"Update Password",name:"openPasswordSlide",onClick:function(){return e.handleOpen("openPasswordSlide")},style:{borderBottom:"1px solid #0000002e"}},l.a.createElement(ct.a,{primary:"Change Password"})),this.state.openPasswordSlide?this.openUpdatePasswordSlide("New email"):null,l.a.createElement(ot.a,{button:!0,value:"Notification Settings",name:"openNotificationSettings",onClick:function(){return e.handleOpen("openNotificationSettings")},style:{borderBottom:"1px solid #0000002e"}},l.a.createElement(ct.a,{primary:"Notification Settings"})),this.state.openNotificationSettings?this.openUpdatePasswordSlide("New email"):null,l.a.createElement(ot.a,{button:!0,value:"Do Not Disturb",style:{borderBottom:"1px solid #0000002e"}},l.a.createElement(ct.a,{primary:"Do Not Disturb"}),l.a.createElement(kt.a,{name:"doNotDisturb",checked:this.state.doNotDisturb,onChange:this.handleInputChange,value:"checkedB",color:"primary"}))))}}]),t}(o.Component))||H)||H),Nt=Object(v.b)("socketStore")(G=function(e){function t(){return Object(d.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.socketStore.notifications;return l.a.createElement("div",null,e.length>0?e.map((function(e){return l.a.createElement("span",null,e.time.getHours(),":",e.time.getMinutes(),":",e.time.getSeconds()," - ",e.sender," has reacted to you! ",l.a.createElement(ge.a,null,e.emoji),l.a.createElement("br",null))})):l.a.createElement("span",{style:{textAlign:"center"}},"There are no new notifications",l.a.createElement("br",null)," go react yourself!"))}}]),t}(o.Component))||G,Lt=Object(v.b)("user","usersStore","locationsStore","myProfile","socketStore")(Y=Object(v.c)(Y=function(e){function t(){return Object(d.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null)}}]),t}(o.Component))||Y)||Y,xt=(a(610),Be.messaging());xt.usePublicVapidKey("BFdbt5j8SC-NQRe0GjUEE2-Mnwx2N57tRrMAQDzzHVA6AZpMI_BhhJVcoA7jnIyrqAZ4mydp-0TUlDkhCkbN_M0");var Pt;Object(v.b)("user","usersStore","locationsStore","myProfile","socketStore")(K=Object(v.c)(K=function(e){function t(){return Object(d.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null)}}]),t}(o.Component))||K);a(575).config();var Tt=Object(v.b)("user","locationsStore","myProfile","socketStore")(Pt=Object(v.c)(Pt=function(e){function t(){return Object(d.a)(this,t),Object(m.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;return p.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:xt.requestPermission().then((function(){var t;return p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.a.awrap(xt.getToken());case 2:t=a.sent,e.props.socketStore.userNotificationToken=t,e.props.socketStore.pushNotification();case 5:case"end":return a.stop()}}))})).catch((function(e){console.log("Unable to get permission to notify.",e)})),navigator.serviceWorker.addEventListener("message",(function(e){return console.log(e)})),this.props.socketStore.recieveMessage();case 3:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){return l.a.createElement(g.a,null,this.props.socketStore.checked?l.a.createElement($e,null):l.a.createElement("div",{id:"main-container"},l.a.createElement(ft,null),console.log(this.props.socketStore.nearbyUsers),this.props.user.isLoggedIn?l.a.createElement(y.b,{path:"/",exact:!0,render:function(e){e.match;return l.a.createElement(l.a.Fragment,null," ",l.a.createElement(J,null)," ",l.a.createElement(w,null)," ")}}):l.a.createElement(y.b,{path:"/",exact:!0,render:function(e){var t=e.match;return l.a.createElement(ie,{match:t})}}),l.a.createElement(y.b,{path:"/register",exact:!0,render:function(e){var t=e.match;return l.a.createElement(Ze,{match:t})}}),this.props.user.isCheckedIn?l.a.createElement(y.b,{path:"/map/:location",exact:!0,render:function(e){var t=e.match;return l.a.createElement(l.a.Fragment,null," ",l.a.createElement(be,{match:t}),l.a.createElement(Ot,null))}}):null,l.a.createElement(y.b,{path:"/user/:id",exact:!0,render:function(e){var t=e.match;return l.a.createElement(l.a.Fragment,null,l.a.createElement(ke,{match:t}))}}),l.a.createElement(y.b,{path:"/editProfile",exact:!0,render:function(e){e.match;return l.a.createElement(Lt,null)}}),l.a.createElement(y.b,{path:"/settings",exact:!0,render:function(e){e.match;return l.a.createElement(It,null)}}),l.a.createElement(y.b,{path:"/notifications",exact:!0,render:function(e){var t=e.match;return l.a.createElement(Nt,{match:t})}})))}}]),t}(o.Component))||Pt)||Pt;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Mt,zt,Dt,Ut,At,Rt,Bt,Ft,_t,Wt,Ht,Gt,Yt,Kt,Vt,Jt,qt,Qt,Zt,$t,Xt,ea,ta,aa,na,ra,ia,oa,la,ca,sa,ua,pa,da,ha,ma,ba,fa,ga,ya,va,Ea,ja,Oa,Sa,ka,wa,Ca,Ia,Na,La,xa,Pa,Ta,Ma,za,Da,Ua,Aa,Ra=a(17),Ba=a(18),Fa=(a(108),a(12)),_a=(Mt=function e(t,a,n,r,i,o,l,c,s,u,p,h){Object(d.a)(this,e),Object(Ra.a)(this,"id",zt,this),Object(Ra.a)(this,"firstName",Dt,this),Object(Ra.a)(this,"lastName",Ut,this),Object(Ra.a)(this,"age",At,this),Object(Ra.a)(this,"email",Rt,this),Object(Ra.a)(this,"password",Bt,this),Object(Ra.a)(this,"status",Ft,this),Object(Ra.a)(this,"desiredRelationship",_t,this),Object(Ra.a)(this,"interestedIn",Wt,this),Object(Ra.a)(this,"gender",Ht,this),Object(Ra.a)(this,"picture",Gt,this),Object(Ra.a)(this,"isCheckedIn",Yt,this),Object(Ra.a)(this,"isLoggedIn",Kt,this),Object(Ra.a)(this,"isDeleted",Vt,this),Object(Ra.a)(this,"logIn",Jt,this),Object(Ra.a)(this,"checkout",qt,this),Object(Ra.a)(this,"checkin",Qt,this),this._id=t,this.firstName=a,this.lastName=n,this.age=r,this.email=i,this.password=o,this.status=l,this.desiredRelationship=c,this.interestedIn=s,this.gender=u,this.picture=p},zt=Object(Ba.a)(Mt.prototype,"id",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=Object(Ba.a)(Mt.prototype,"firstName",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ut=Object(Ba.a)(Mt.prototype,"lastName",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),At=Object(Ba.a)(Mt.prototype,"age",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rt=Object(Ba.a)(Mt.prototype,"email",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bt=Object(Ba.a)(Mt.prototype,"password",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=Object(Ba.a)(Mt.prototype,"status",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t=Object(Ba.a)(Mt.prototype,"desiredRelationship",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=Object(Ba.a)(Mt.prototype,"interestedIn",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ht=Object(Ba.a)(Mt.prototype,"gender",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gt=Object(Ba.a)(Mt.prototype,"picture",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yt=Object(Ba.a)(Mt.prototype,"isCheckedIn",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kt=Object(Ba.a)(Mt.prototype,"isLoggedIn",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vt=Object(Ba.a)(Mt.prototype,"isDeleted",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jt=Object(Ba.a)(Mt.prototype,"logIn",[Fa.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){return e.isLoggedIn=!0}}}),qt=Object(Ba.a)(Mt.prototype,"checkout",[Fa.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isCheckedIn=!1}}}),Qt=Object(Ba.a)(Mt.prototype,"checkin",[Fa.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isCheckedIn=!0}}}),Mt),Wa=a(578),Ha=(Zt=function e(){Object(d.a)(this,e),Object(Ra.a)(this,"users",$t,this),Object(Ra.a)(this,"getUsers",Xt,this),Object(Ra.a)(this,"getUserById",ea,this)},$t=Object(Ba.a)(Zt.prototype,"users",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xt=Object(Ba.a)(Zt.prototype,"getUsers",[Fa.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){console.log(e.props),e.users=Wa.default}}}),ea=Object(Ba.a)(Zt.prototype,"getUserById",[Fa.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return e.users.find((function(e){return e._id==t}))}}}),Zt),Ga=(ta=function e(){Object(d.a)(this,e),Object(Ra.a)(this,"locations",aa,this)},aa=Object(Ba.a)(ta.prototype,"locations",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ta),Ya=(na=function e(){Object(d.a)(this,e),Object(Ra.a)(this,"profile",ra,this)},ra=Object(Ba.a)(na.prototype,"profile",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),na),Ka=a(321),Va=a.n(Ka),Ja=(ia=function(){function e(){Object(d.a)(this,e),this.endpoint="localhost:8080",this.socket=Va()(),Object(Ra.a)(this,"socketId",oa,this),Object(Ra.a)(this,"coordinates",la,this),Object(Ra.a)(this,"nearbyLocations",ca,this),Object(Ra.a)(this,"nearbyUsers",sa,this),Object(Ra.a)(this,"emoji",ua,this),Object(Ra.a)(this,"loggedInUser",pa,this),Object(Ra.a)(this,"chosenLocation",da,this),Object(Ra.a)(this,"checked",ha,this),Object(Ra.a)(this,"isLoggedIn",ma,this),Object(Ra.a)(this,"SelectedLocationCoordinates",ba,this),Object(Ra.a)(this,"notifications",fa,this),Object(Ra.a)(this,"readNotificationsCount",ga,this),Object(Ra.a)(this,"notificationsAmt",ya,this),Object(Ra.a)(this,"userNotificationToken",va,this),Object(Ra.a)(this,"getUserById",Ea,this),Object(Ra.a)(this,"findSocketDestinationById",ja,this),Object(Ra.a)(this,"openSocket",Oa,this),Object(Ra.a)(this,"getLocationsNearby",Sa,this),Object(Ra.a)(this,"getUsersNearMe",ka,this),Object(Ra.a)(this,"sendReaction",wa,this),Object(Ra.a)(this,"getReaction",Ca,this),Object(Ra.a)(this,"recieveMessage",Ia,this),Object(Ra.a)(this,"watchPosition",Na,this),Object(Ra.a)(this,"checkoutFromLocation",La,this),Object(Ra.a)(this,"addNotification",xa,this),Object(Ra.a)(this,"readNotifications",Pa,this),Object(Ra.a)(this,"updateUserNotificationToken",Ta,this),Object(Ra.a)(this,"pushNotification",Ma,this)}return Object(h.a)(e,[{key:"degreesToRadians",value:function(e){return e*Math.PI/180}},{key:"distanceInKmBetweenEarthCoordinates",value:function(e,t,a,n){var r=this.degreesToRadians(a-e),i=this.degreesToRadians(n-t);e=this.degreesToRadians(e),a=this.degreesToRadians(a);var o=Math.sin(r/2)*Math.sin(r/2)+Math.sin(i/2)*Math.sin(i/2)*Math.cos(e)*Math.cos(a);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}}]),e}(),oa=Object(Ba.a)(ia.prototype,"socketId",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),la=Object(Ba.a)(ia.prototype,"coordinates",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ca=Object(Ba.a)(ia.prototype,"nearbyLocations",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),sa=Object(Ba.a)(ia.prototype,"nearbyUsers",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ua=Object(Ba.a)(ia.prototype,"emoji",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pa=Object(Ba.a)(ia.prototype,"loggedInUser",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),da=Object(Ba.a)(ia.prototype,"chosenLocation",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ha=Object(Ba.a)(ia.prototype,"checked",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ma=Object(Ba.a)(ia.prototype,"isLoggedIn",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ba=Object(Ba.a)(ia.prototype,"SelectedLocationCoordinates",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fa=Object(Ba.a)(ia.prototype,"notifications",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ga=Object(Ba.a)(ia.prototype,"readNotificationsCount",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ya=Object(Ba.a)(ia.prototype,"notificationsAmt",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),va=Object(Ba.a)(ia.prototype,"userNotificationToken",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ea=Object(Ba.a)(ia.prototype,"getUserById",[Fa.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a=e.nearbyUsers.find((function(e){return e._id==t}));return console.log(a),a}}}),ja=Object(Ba.a)(ia.prototype,"findSocketDestinationById",[Fa.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return e.nearbyUsers.find((function(e){return e.socketId==t}))}}}),Oa=Object(Ba.a)(ia.prototype,"openSocket",[Fa.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){console.log("opensocket"),console.log(t),console.log("opensocket"),e.socket.emit("userId",t),e.loggedInUser=t}}}),Sa=Object(Ba.a)(ia.prototype,"getLocationsNearby",[Fa.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e){var t=this;this.socket.emit("GPSlocation",e),this.socket.on("locationsArry",(function(e){t.nearbyLocations=e}))}}}),ka=Object(Ba.a)(ia.prototype,"getUsersNearMe",[Fa.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){console.log("before emit location: "+t),e.socket.emit("selectedLocation",t),e.socket.on("usersNearMe",(function(a){console.log("usersNearMe: "+a),e.nearbyUsers=a,e.chosenLocation=t}))}}}),wa=Object(Ba.a)(ia.prototype,"sendReaction",[Fa.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.socket.emit("reaction",t),console.log("reaction obj: "+t.destinationUser._id);var a=e.nearbyUsers.filter((function(e){return e._id===t.destinationUser._id}));console.log("filter res: "+a[0]._id),a[0].blockTimer=!0,setTimeout((function(){a[0].blockTimer=!1}),5e3)}}}),Ca=Object(Ba.a)(ia.prototype,"getReaction",[Fa.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.socket.on("reaction recieved",(function(e){console.log("Recieved an Emoji!")}))}}}),Ia=Object(Ba.a)(ia.prototype,"recieveMessage",[Fa.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.socket.on("reaction recieved",(function(t){console.log("Recieved Message!"),console.log("reactingObj is ",t),e.reactingUser=t.sourceUser,console.log("reactingUser is ",e.reactingUser),e.checked=!0,e.emoji=t.label;var a={time:new Date,sender:e.reactingUser.firstName,emoji:e.emoji};e.addNotification(a),e.pushNotification(),setTimeout((function(){e.checked=!1,e.reactingUser=null,console.log("changed checked to false!")}),5e3)}))}}}),Na=Object(Ba.a)(ia.prototype,"watchPosition",[Fa.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.SelectedLocationCoordinates.lat,a=e.SelectedLocationCoordinates.lng;e.watchID=navigator.geolocation.watchPosition((function(n){var r=n.coords.latitude,i=n.coords.longitude;e.distanceInKmBetweenEarthCoordinates(t,a,r,i)>.1&&(e.nearbyUsers=[],e.socket.emit("out of range"),navigator.geolocation.clearWatch(e.watchID))}))}}}),La=Object(Ba.a)(ia.prototype,"checkoutFromLocation",[Fa.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.nearbyUsers=[],e.socket.emit("out of range"),navigator.geolocation.clearWatch(e.watchID)}}}),xa=Object(Ba.a)(ia.prototype,"addNotification",[Fa.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.notifications.unshift(t),e.notificationsAmt++}}}),Pa=Object(Ba.a)(ia.prototype,"readNotifications",[Fa.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.readNotificationsCount=e.notifications.length,e.notificationsAmt=e.notifications.length-e.readNotificationsCount}}}),Ta=Object(Ba.a)(ia.prototype,"updateUserNotificationToken",[Fa.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){console.log("user token from the action function in store",t),e.userNotificationToken=t}}}),Ma=Object(Ba.a)(ia.prototype,"pushNotification",[Fa.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){console.log("this.userNotificationToken",e.userNotificationToken),console.log("user",e.loggedInUser);var t={data:{date:new Date},to:"".concat(e.userNotificationToken)},a={headers:{"Content-Type":"application/json",Authorization:"key=".concat(Ae.a.cloudServerKey)}};O.a.post("https://fcm.googleapis.com/fcm/send",t,a).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}}}),ia),qa=(za=function e(){Object(d.a)(this,e),Object(Ra.a)(this,"headerLabel",Da,this),Object(Ra.a)(this,"displayMenu",Ua,this),Object(Ra.a)(this,"setHeaderLabel",Aa,this)},Da=Object(Ba.a)(za.prototype,"headerLabel",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Binder"}}),Ua=Object(Ba.a)(za.prototype,"displayMenu",[Fa.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Aa=Object(Ba.a)(za.prototype,"setHeaderLabel",[Fa.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.headerLabel=t}}}),za),Qa=new _a,Za=new Ha,$a=new Ga,Xa=new Ya,en=new Ja,tn={generalStore:new qa,user:Qa,usersStore:Za,locationsStore:$a,myProfile:Xa,socketStore:en};"serviceWorker"in navigator&&navigator.serviceWorker.register("./firebase-messaging-sw.js").then((function(e){console.log("Registration successful, scope is:",e.scope)})).catch((function(e){console.log("Service worker registration failed, error:",e)})),s.a.render(l.a.createElement(v.a,tn,l.a.createElement(Tt,null)),document.getElementById("root"))}},[[335,1,2]]]);
//# sourceMappingURL=main.ef51bb1c.chunk.js.map